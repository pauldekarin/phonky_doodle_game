# Phonky Doodle

## Обзор

**Phonky Doodle** — это платформер, разработанный с использованием библиотеки pgzero. Игра включает плавную анимацию спрайтов, динамические игровые элементы и привлекательное главное меню. В этой игре игроки перемещаются по платформам, избегая врагов и преодолевая препятствия.

## Требования

- **Библиотеки**: 
- pgzero
- math
- random
- **Дополнительная информация**: библиотеку pygame можно использовать только для импорта класса Rect.

## Особенности игры

1. **Главное меню**:
- Начать игру
- Включить/выключить музыку и звуковые эффекты
- Выход

2. **Игровые элементы**:
- Фоновая музыка и звуковые эффекты.
- Несколько врагов с различным поведением.
- Плавная анимация спрайтов как для игрока, так и для врагов.
- Динамическое генерирование и движение платформ.

## Игровые классы

### Music

Управляет фоновой музыкой и звуковыми эффектами, включая контроль громкости и воспроизведение.

- **Методы**:
- set_volume(volume): Устанавливает громкость для всех звуков.
- draw(screen): Отображает иконку музыки на экране.
- hit(), jump(), main_theme(), game_over(): Воспроизводят соответствующие звуковые эффекты.
- on(), off(), on_fx(), off_fx(): Включают и выключают музыку и звуковые эффекты.
- mouse_event(pos): Обрабатывает щелчки мыши на иконке музыки.

### Platform

Представляет платформу в игровом мире.

- **Методы**:
- draw(screen): Отображает платформу на экране.
- generate_random(): Генерирует случайную платформу.
- collide(rect): Проверяет столкновение с заданным прямоугольником.

### Platforms

Управляет коллекцией платформ.

- **Методы**:
- draw(screen): Отображает все платформы.
- move(dy): Двигает платформы вертикально.
- update(): Обновляет позиции платформ и генерирует новые платформы.
- collide(rect): Проверяет столкновение с заданным прямоугольником.

### Background

Управляет фоном игры и анимациями облаков.

- **Методы**:
- draw(screen): Отображает облака на фоне.
- move(dy): Двигает облака вертикально.
- update(): Обновляет позиции облаков и генерирует новые облака.

### PhysicsSprite

Базовый класс для любого спрайта, который взаимодействует с физической системой.

- **Методы**:
- move(direction): Двигает спрайт в указанном направлении.
- force(force_vector): Применяет силу к спрайту.
- jump(): Заставляет спрайт прыгнуть.
- update(dt): Обновляет позицию и состояние спрайта.
- check_world_collision(), check_platforms_collision(platforms): Проверяет на столкновения.
- draw(screen): Отображает спрайт на экране.

### Enemy (наследуется от PhysicsSprite)

Представляет врага в игре.

- **Методы**:
- update(dt): Обновляет позицию и состояние врага.
- check_player_distance(player): Проверяет расстояние до игрока и реагирует соответственно.
- check_player_collision(player): Проверяет столкновение с игроком и применяет силу, если это необходимо.

### Enemies

Управляет коллекцией врагов.

- **Методы**:
- update_enemies(platforms): Обновляет врагов и генерирует новых.
- update(dt): Обновляет всех врагов.
- draw(screen): Отображает всех врагов на экране.

### Player (наследуется от PhysicsSprite)

Представляет персонажа игрока.

- **Методы**:
- set_movement(direction): Добавляет направление в список движений.
- remove_movement(direction): Убирает направление из списка движений.
- move(direction, is_moving): Двигает игрока в указанном направлении.
- die(): Обрабатывает смерть игрока.
- update(dt): Обновляет состояние и позицию игрока.

### App

Управляет окнами игры и переходами между ними.

- **Методы**:
- start_game(): Запускает игровое окно.
- stop_game(scores): Останавливает игру и возвращает в главное меню.
- on_mouse_down(pos): Обрабатывает щелчки мыши.
- on_key_down(key), on_key_up(key): Обрабатывает нажатия клавиш.
- update(dt): Обновляет текущее окно.
- draw(screen): Отображает текущее окно на экране.

### MainMenu

Управляет операциями главного меню.

- **Методы**:
- initialize_strings(screen): Инициализирует текст меню и позиции платформ.
- update(dt): Обновляет состояние меню.
- on_key_down(key): Обрабатывает нажатия клавиш в меню.
- on_mouse_down(pos): Обрабатывает щелчки мыши в меню.
- draw(screen): Отображает меню на экране.

### Game

Управляет состоянием игры и взаимодействиями.

- **Методы**:
- start_game(): Запускает игру с первоначальной настройкой.
- update(dt): Обновляет состояние игры.
- draw(screen): Отображает игровые элементы на экране.
- game_over(): Обрабатывает состояние конца игры.

## Установка и запуск

1. **Настройка**: 
- Установите pgzero через pip.
- Убедитесь, что у вас есть необходимые ресурсы (изображения, звуки) в правильных директориях.

2. **Запуск**:
- Выполните игру с использованием команды pgzrun.

## Установка и запуск

1. **Настройка**: 
   - Установите pgzero через pip.
   - Убедитесь, что у вас есть необходимые ресурсы (изображения, звуки) в правильных директориях.

2. **Установка через setup.py**:
   - Для установки проекта выполните следующую команду:
     
bash
python3 setup.py install

3. **Запуск**:
   - Выполните игру с использованием команды pgzrun:
   
bash
pgzrun ./phonky_doodle/main.py

   Или запустите через консоль, использовав установленную команду:
   
bash
play

